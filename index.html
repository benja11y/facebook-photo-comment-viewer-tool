<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Facebook Photo Comment Viewer - Landing</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Facebook Photo Comment Viewer</h1>
  <section>
    <h2>Instructions</h2>
    <p>
      <!-- Placeholder for instructions -->
    </p>
  </section>
  <section>
    <h2>Step 1: Get the Bookmarklet</h2>
    <!-- Hosted bookmarklet link using raw.githubusercontent.com -->
    <a href="javascript:(function(){var s=document.createElement('script');s.src='https://raw.githubusercontent.com/benja11y/facebook-photo-comment-viewer-tool/refs/heads/main/bookmarklet.js?cache='+Math.floor(Math.random()*9999+1);document.head.appendChild(s);})();"
      id="bookmarklet-link"
      style="display:inline-block;padding:0.5em 1em;background:#e3e3e3;border-radius:4px;text-decoration:none;color:#222;font-weight:bold;cursor:grab;"
      draggable="true"
      title="Drag this to your bookmarks bar">
      Drag this to your bookmarks bar: Facebook Scraper
    </a>
    <p style="font-size:0.9em;margin-top:0.5em;">
      If you can't drag, right-click and "Bookmark Link" or copy the code below:
    </p>
    <textarea readonly rows="3" style="width:100%;font-size:0.9em;" onclick="this.select()">javascript:(function(){var s=document.createElement('script');s.src='https://raw.githubusercontent.com/benja11y/facebook-photo-comment-viewer-tool/refs/heads/main/bookmarklet.js?cache='+Math.floor(Math.random()*9999+1);document.head.appendChild(s);})();</textarea>
  </section>
  <section>
    <h2>Step 2: Paste JSON Output</h2>
    <textarea id="json-input" rows="12" cols="80" placeholder="Paste JSON here"></textarea>
    <br>
    <button id="open-viewer-btn">Open Viewer</button>
  </section>
  <script>
    document.getElementById('open-viewer-btn').addEventListener('click', function() {
      const json = document.getElementById('json-input').value.trim();
      if (!json) {
        alert('Please paste the JSON output from the bookmarklet.');
        return;
      }
      try {
        JSON.parse(json);
      } catch (e) {
        alert('Invalid JSON. Please check your input.');
        return;
      }
      localStorage.setItem('fb_photo_comment_json', json);
      window.open('viewer.html', '_blank');
    });
  </script>
</body>
</html>